genrule(
    name = "cat",
    srcs = select({
        ":a": ["a.txt"],
        ":b": ["b.txt"],
    }),
    out = "cat_out.txt",
    cmd = "cat $SRCS > $OUT",
)

genrule(
    name = "cat_with_default",
    srcs = select({
        "//:a": ["a.txt"],
        "//:b": ["b.txt"],
        "DEFAULT": ["c.txt"],
    }),
    out = "cat_out.txt",
    cmd = "cat $SRCS > $OUT",
)

genrule(
    name = "cat_with_refined_config",
    srcs = select({
        "//:bc": ["c.txt"],
        "//:b": ["b.txt"],
    }),
    out = "cat_out.txt",
    cmd = "cat $SRCS > $OUT",
)

config_setting(
    name = "a",
    values = {
        "cat.file": "a",
    },
)

config_setting(
    name = "b",
    values = {
        "cat.file": "b",
    },
)

config_setting(
    name = "bc",
    values = {
        "cat.file": "b",
        "cat.file2": "c",
    },
)

genrule(
    name = "echo",
    out = "echo_out.txt",
    bash = select({
        "//:a": "echo select > $OUT",
        "DEFAULT": None,
    }),
    cmd = "echo cmd > $OUT",
    cmd_exe = select({
        "//:a": "echo select > $OUT",
        "DEFAULT": None,
    }),
)

config_setting(
    name = "c",
    values = {
        "another.option": "c",
    },
)

genrule(
    name = "echo_with_one_none",
    out = "echo_out.txt",
    cmd = select({
        "//:a": None,
        "//:c": "echo c > $OUT",
    }),
)

genrule(
    name = "echo_with_concatenation_in_out",
    out = "a" + select({
        "//:a": "a",
        "//:b": "b",
    }) + "c",
    cmd = "echo a > $OUT",
)

config_setting(
    name = "java_version_7",
    values = {
        "java.version": "7",
    },
)

config_setting(
    name = "java_version_8",
    values = {
        "java.version": "8",
    },
)

java_library(
    name = "java_library_with_target_version",
    srcs = ["JavaClassWithVersion8Syntax.java"],
    source = "1." + select({
        "//:java_version_7": "7",
        "//:java_version_8": "8",
    }),
    target = "1." + select({
        "//:java_version_7": "7",
        "//:java_version_8": "8",
    }),
)

genrule(
    name = "echo_with_concatenation_in_cmd",
    out = "echo_out.txt",
    cmd = "echo " + select({
        "//:a": "a",
        "//:b": "b",
    }) + " > $OUT",
)
