os_constraint_detector(
    name = "os-detector",
)

constraint_setting(
    name = "os",
    host_constraint_detector = ":os-detector",
)

constraint_value(
    name = "linux",
    constraint_setting = ":os",
)

constraint_value(
    name = "osx",
    constraint_setting = ":os",
)

cpu_constraint_detector(
    name = "cpu-detector",
)

constraint_setting(
    name = "cpu",
    host_constraint_detector = ":cpu-detector",
)

constraint_value(
    name = "x86_64",
    constraint_setting = ":cpu",
)

platform(
    name = "osx_x86-64",
    constraint_values = [
        ":osx",
        ":x86_64",
    ],
)

platform(
    name = "linux_x86-64",
    constraint_values = [
        ":linux",
        ":x86_64",
    ],
)

config_setting(
    name = "osx_config",
    constraint_values = [
        ":osx",
    ],
)

config_setting(
    name = "linux_config",
    constraint_values = [
        ":linux",
    ],
)

config_setting(
    name = "x86_64_config",
    constraint_values = [
        ":x86_64",
    ],
)
